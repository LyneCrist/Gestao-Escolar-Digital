{% extends "base.html" %}
{% load static poll_extras_pacientes %}
{% block css %}
<link rel="stylesheet" type="text/css" href="{% static 'css/list.css' %}">
{% endblock css %}

{% block title %}
Lista Pacientes
{% endblock title %}
{% block content %}
<form action="" method="get" class="form_row_list">
    <style>
        /* CSS incorporado diretamente no template */
        .td-align-center {
            text-align: center;
            color: #4070f4;
            background-color: #131315;
        }

        .action-buttons {
            display: flex;
            gap: 8px;
            justify-content: center;
        }
        
        .btn-action {
            padding: 4px 8px;
            text-decoration: none;
            border-radius: 4px;
            font-size: 0.9em;
            border: 1px solid #ddd;
        }
        
        .btn-action[href*="editar_paciente"] {
            background-color: #e3f2fd;
            color: #1565c0;
        }
        
        .btn-action[href*="excluir_paciente"] {
            background-color: #ffebee;
            color: #c62828;
        }
        
        .btn-action[href*="criar_paciente"] {
            background-color: #e8f5e9;
            color: #2e7d32;
        }
        
    </style>

    <div class="row">

        <div class="col-5">
            <h2>CADASTRO DOS ALUNOS</h2>
        </div>

        <div class="row-left col-5">
            <a class="button-link" href="{% url 'criar_paciente' %}">CADASTRAR ALUNO</a>
        </div>

        <div class="col-5">
            <table class="data-list-atlas">
                <tr>
                    <th class="td-align-center">Nome</th>
                    <th class="td-align-center">RA</th>
                    <th class="td-align-center">Ações</th> 
                </tr>
                
                {% for paciente in pacientes %}
                <tr>
                    <td class="td-align-center">{{ paciente.nome }}</td>
                    <td class="td-align-center">{{ paciente.cartao_sus }}
                    </td>
                 
                    <td class="td-align-center">
                        <div class="action-buttons">
                            <a href=" {% url 'editar_paciente' paciente.id %}" class="btn-action">Editar</a>
                            <a href=" {% url 'excluir_paciente' paciente.id %}" class="btn-action">Excluir</a>
                            <a href=" {% url 'criar_transporte' paciente.id %}" class="btn-action">Inserir Notas</a>
                        </div>
                    </td>

                </tr>
                {% endfor %}
            </table>
        </div>
    </div>
</form>
{% endblock content %}